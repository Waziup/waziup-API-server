{"version":3,"sources":["webpack:///webpack/bootstrap d173ebc3f27252d8f294","webpack:///./server/common/logger.js","webpack:///external \"express\"","webpack:///external \"body-parser\"","webpack:///external \"path\"","webpack:///external \"request\"","webpack:///./server/index.js","webpack:///./server/api/controllers/auth/controller.js","webpack:///./server/api/controllers/auth/router.js","webpack:///./server/api/controllers/examples/controller.js","webpack:///./server/api/controllers/examples/router.js","webpack:///./server/api/controllers/users/controller.js","webpack:///./server/api/controllers/users/router.js","webpack:///./server/api/services/auth.service.js","webpack:///./server/api/services/examples.service.js","webpack:///./server/api/services/user.service.js","webpack:///./server/common/env.js","webpack:///./server/common/server.js","webpack:///./server/common/swagger/index.js","webpack:///./server/routes.js","webpack:///external \"cookie-parser\"","webpack:///external \"dotenv\"","webpack:///external \"http\"","webpack:///external \"os\"","webpack:///external \"pino\"","webpack:///external \"swagger-express-middleware\""],"names":["l","pino","name","process","env","APP_ID","level","LOG_LEVEL","router","listen","PORT","Controller","getAccessToken","req","res","console","log","AuthService","getAccess","body","then","r","json","bodyParser","require","jsonParser","post","controller","all","ExamplesService","byId","params","id","status","end","create","location","get","UserService","split","pop","update","put","request","url","baseUrl","config","username","password","grant_type","client_id","credentials","Promise","resolve","reject","form","err","resp","jsonBody","JSON","parse","examples","info","constructor","example","push","users","accessToken","auth","bearer","response","user","e","dotenv","app","ExpressServer","root","__dirname","set","use","extended","cookieParser","SESSION_SECRET","express","static","routes","swaggerify","port","welcome","http","middleware","enable","metadata","files","caseSensitive","strict","useBasePath","apiPath","SWAGGER_API_SPEC","parseRequest","cookie","secret","limit","REQUEST_LIMIT","CORS","validateRequest","next","send","message"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 25);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d173ebc3f27252d8f294","import pino from 'pino'\nconst l = pino({\n  name: process.env.APP_ID,\n  level: process.env.LOG_LEVEL\n});\n\nexport default l;\n\n\n// WEBPACK FOOTER //\n// ./server/common/logger.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"request\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request\"\n// module id = 4\n// module chunks = 0","import './common/env';\nimport Server from './common/server';\nimport routes from './routes';\n\nexport default new Server()\n  .router(routes)\n  .listen(process.env.PORT);\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","import AuthService from '../../services/auth.service';\nexport class Controller {\n  getAccessToken(req, res) {\n    console.log('hello auth');\n    AuthService\n    .getAccess(req.body)\n    .then(r => res.json(r));\n  }\n\n  \n}\nexport default new Controller();\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/auth/controller.js","import * as express from 'express';\nimport controller from './controller';\nvar bodyParser = require('body-parser');\n// create application/json parser\nvar jsonParser = bodyParser.json();\nexport default express.Router()\n    .post('/',jsonParser, ::controller.getAccessToken);\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/auth/router.js","import ExamplesService from '../../services/examples.service';\nexport class Controller {\n  all(req, res) {\n    ExamplesService\n    .all()\n    .then(r => res.json(r));\n  }\n\n  byId(req, res) {\n    ExamplesService\n      .byId(req.params.id)\n      .then(r => {\n        if (r) res.json(r)\n        else res.status(404).end();\n      });\n  }\n\n  create(req, res) {\n    ExamplesService\n      .create(req.body.name)\n      .then(r => res\n        .status(201)\n        .location(`/api/v1/examples/${r.id}`)\n        .json(r))\n  } \n}\nexport default new Controller();\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/examples/controller.js","import * as express from 'express';\nimport controller from './controller'\nexport default express.Router()\n    .post('/', ::controller.create)\n    .get('/', ::controller.all)\n    .get('/:id', ::controller.byId);\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/examples/router.js","import UserService from '../../services/user.service';\nexport class Controller {\n    all(req, res) {\n        UserService\n        //get access token from auth header and send it to service\n            .all(req.get(\"Authorization\").split(\" \").pop())\n            .then(r => res.json(r));\n    }\n\n    byId(req, res) {\n        UserService\n            .byId(req.params.id, req.get(\"Authorization\").split(\" \").pop())\n            .then(r => {\n                if (r) res.json(r)\n                else res.status(404).end();\n            });\n    }\n    update(req, res) {\n        UserService\n            .update(req.params.id, req.get(\"Authorization\").split(\" \").pop(), req.body)\n            .then(r => {\n                if (r) res.json(r)\n                else res.status(404).end();\n            });\n    }\n}\nexport default new Controller();\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/users/controller.js","import * as express from 'express';\nimport controller from './controller';\nvar bodyParser = require('body-parser');\n// create application/json parser\nvar jsonParser = bodyParser.json();\nexport default express.Router()\n    .get('/', ::controller.all)\n    .get('/:id', ::controller.byId)\n    .put(':/id',jsonParser,::controller.update);\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/users/router.js","import l from '../../common/logger';\nvar request = require('request');\n\nvar url = '/realms/master/protocol/openid-connect/token';\nvar baseUrl = 'http://127.0.0.1:8080/auth';\nvar config = {\n    username: 'admin23',\n    password: 'admin23',\n    grant_type: 'password',\n    client_id: 'admin-cli'\n};\n\nexport class AuthService {\n    getAccess(credentials) {\n\n        config.username = credentials.username;\n        config.password = credentials.password;\n        console.log(config);\n        return new Promise(function(resolve, reject) {\n            request.post({ url: baseUrl + url, form: config }, function(err, resp, body) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n\n                var jsonBody = JSON.parse(body);\n                //console.log(accessToken);\n                if (jsonBody)\n                    resolve(jsonBody);\n                else resolve(\"Wrong credentials, Please try again\");\n            });\n        });\n    }\n\n}\n\nexport default new AuthService();\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/auth.service.js","import l from '../../common/logger';\n\nlet id = 0;\nconst examples = [\n    { id: id++, name: 'example 0' }, \n    { id: id++, name: 'example 1' }\n];\n\nexport class ExamplesService {\n  all() {\n    l.info(`${this.constructor.name}.all()`);\n    return Promise.resolve(examples);\n  }\n\n  byId(id) {\n    l.info(`${this.constructor.name}.byId(${id})`);\n    return this.all().then(r => r[id])\n  }\n\n  create(name) {\n    const example = {\n      id: id++,\n      name\n    };\n    \n    examples.push(example);\n    l.info(example, `${this.constructor.name}.create(${name})`);\n    \n    return Promise.resolve(example);\n  }\n}\n\nexport default new ExamplesService();\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/examples.service.js","import l from '../../common/logger';\nvar request = require('request');\n\nvar url = '/realms/master/protocol/openid-connect/token';\nvar baseUrl = 'http://127.0.0.1:8080/auth';\nvar users = {};\nexport class UserService {\n    all(accessToken) {\n        //get users of specific group\n        //console.log(accessToken);\n        var auth = {\n            bearer: accessToken\n        };\n\n        return new Promise(function(resolve, reject) {\n            request({\n                url: `${baseUrl}/admin/realms/waziup/users`,\n                auth: auth\n            }, function(err, response, body) {\n                if (err) {\n                    console.log(err);\n                    reject(err);\n                }\n\n                if (body != \"Bearer\") {\n                    users = JSON.parse(body);\n                    resolve(users);\n                } else resolve(\"Access Denied, \" + body);\n            });\n        });\n\n    }\n    byId(id, accessToken) {\n        //get specific user\n        var auth = {\n            bearer: accessToken\n        };\n        return new Promise(function(resolve, reject) {\n            request({\n                url: `${baseUrl}/admin/realms/waziup/users/${id}`,\n                auth: auth\n            }, function(err, response, body) {\n                if (err) {\n                    console.log(err);\n                    reject(err);\n                }\n                try {\n                    var user = JSON.parse(body);\n                    resolve(user);\n                } catch (e) {\n                    console.log(e);\n                    resolve(\"Access Denied, \" + body);\n                }\n            });\n        });\n\n    }\n    update(id, user, accessToken) {\n        //get specific user\n        var auth = {\n            bearer: accessToken\n        };\n\n        return new Promise(function(resolve, reject) {\n            request.put({\n                url: `${baseUrl}/admin/realms/waziup/users/${id}`,\n                auth: auth,\n                body: user\n            }, function(err, resp, body) {\n                if (err) {\n                    console.log(err);\n                    return;\n                }\n                var jsonBody = JSON.parse(body);\n                //console.log(accessToken);\n                if (jsonBody)\n                    resolve(jsonBody);\n                else resolve(\"Wrong credentials, Please try again\");\n            });\n        });\n\n    }\n}\nexport default new UserService();\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/user.service.js","import dotenv from 'dotenv';\ndotenv.config();\n\n\n// WEBPACK FOOTER //\n// ./server/common/env.js","import express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as http from 'http';\nimport * as os from 'os';\nimport cookieParser from 'cookie-parser';\nimport swaggerify from './swagger';\nimport l from './logger';\n\nconst app = new express();\n\nexport default class ExpressServer {\n  constructor() {\n    const root = path.normalize(__dirname + '/../..');\n    app.set('appPath', root + 'client');\n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({ extended: true }));\n    app.use(cookieParser(process.env.SESSION_SECRET));\n    app.use(express.static(`${root}/public`));\n  }\n\n  router(routes) {\n    swaggerify(app, routes)\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    const welcome = port => () => l.info(`up and running in ${process.env.NODE_ENV || 'development'} @: ${os.hostname() } on port: ${port}}`);\n    http.createServer(app).listen(port, welcome(port));\n    return app;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./server/common/server.js","import middleware from 'swagger-express-middleware';\nimport * as path from 'path';\nexport default function (app, routes) {\n  middleware(path.join(__dirname, 'Api.yaml'), app, function (err, middleware) {\n\n    // Enable Express' case-sensitive and strict options\n    // (so \"/entities\", \"/Entities\", and \"/Entities/\" are all different)\n    app.enable('case sensitive routing');\n    app.enable('strict routing');\n\n    app.use(middleware.metadata());\n    app.use(middleware.files({\n      // Override the Express App's case-sensitive and strict-routing settings for the Files middleware.\n      caseSensitive: false,\n      strict: false\n    }, {\n      useBasePath: true,\n      apiPath: process.env.SWAGGER_API_SPEC,\n      // Disable serving the \"Api.yaml\" file\n      // rawFilesPath: false\n    }));\n\n    app.use(middleware.parseRequest({\n      // Configure the cookie parser to use secure cookies\n      cookie: {\n        secret: process.env.SESSION_SECRET\n      },\n      // Don't allow JSON content over 100kb (default is 1mb)\n      json: {\n        limit: process.env.REQUEST_LIMIT\n      }\n    }));\n\n    // These two middleware don't have any options (yet)\n    app.use(\n      middleware.CORS(),\n      middleware.validateRequest());\n\n    // Error handler to display the validation error as HTML\n    app.use(function (err, req, res, next) {\n      res.status(err.status);\n      res.send(\n        '<h1>' + err.status + ' Error</h1>' +\n        '<pre>' + err.message + '</pre>'\n      );\n    });\n\n    routes(app);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/swagger/index.js","import examplesRouter from './api/controllers/examples/router'\nimport authRouter from './api/controllers/auth/router'\nimport userRouter from './api/controllers/users/router'\nexport default function routes(app) {\n  app.use('/api/v1/auth',authRouter);  \n  app.use('/api/v1/examples',examplesRouter);\n  app.use('/api/v1/users',userRouter);\n  \n};\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"pino\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pino\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"swagger-express-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"swagger-express-middleware\"\n// module id = 24\n// module chunks = 0"],"sourceRoot":""}